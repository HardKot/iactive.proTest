(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{136:function(e,t,r){e.exports=r(167)},167:function(e,t,r){"use strict";r.r(t);var n=r(176),c=r(0),a=r(4),o=r(3),s=r(31),i=r.n(s),l=r(9),u=r.n(l),O=r(55),f=r.n(O),g=r(54),j=r(81),b=r(82),h=r(25),p=r(51),d=r(27),m=r(5);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=a.a.create({background:{flexDirection:"row",padding:5},image:{width:36,height:36,borderRadius:18},nameBackground:{marginLeft:10},name:{fontSize:16,color:"#808080",fontWeight:"400"},subText:{fontSize:12,color:"#808080",fontWeight:"400"},textCustomIcon:{backgroundColor:"blue",color:"white",fontSize:24,fontWeight:"bold",textAlign:"center",textAlignVertical:"center",paddingTop:3}}),x=function(e){var t=e.user;return Object(m.jsxs)(o.a,y(y({},e),{},{style:v.background,children:[t.imageURL?Object(m.jsx)(d.a,{source:{uri:t.imageURL},style:v.image}):Object(m.jsx)(h.a,{style:[v.image,v.textCustomIcon],children:t.name[0]}),Object(m.jsxs)(o.a,{style:v.nameBackground,children:[Object(m.jsx)(h.a,{style:v.name,children:t.name}),Object(m.jsx)(h.a,{style:v.subText,children:"\u0422\u0435\u043a\u0441\u0442 \u043f\u043e\u0441\u0442\u0430 \u0432 \u0441\u043e\u0446. \u0441\u0435\u0442\u044f\u0445 \u0435\u0441\u043b\u0438 \u044d\u0442\u043e \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"})]})]}))},P=r(40),A=r(175);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k=a.a.create({attachments:{height:300,width:300,marginVertical:10}}),Z=function(e){var t=e.text,r=e.attachments,n=Object(c.useState)(!1),a=i()(n,2),s=a[0],l=a[1];return Object(m.jsxs)(o.a,C(C({},e),{},{children:[t?Object(m.jsxs)(o.a,{style:{flex:1},children:[Object(m.jsx)(h.a,{numberOfLines:s?0:249,style:{height:50},ellipsizeMode:"clip",children:t}),t.length<=249||s?null:Object(m.jsx)(P.a,{onPress:function(){return l(!0)},children:Object(m.jsx)(h.a,{style:{color:"#808080"},children:"\u0414\u0430\u043b\u0435\u0435"})})]}):null,0==r.length?null:Object(m.jsx)(o.a,{style:{justifyContent:"flex-start",flexDirection:"row",alignContent:"center"},children:r.map((function(e,t){return"image"==e.type?Object(m.jsx)(d.a,{source:{uri:e.url},style:k.attachments,resizeMode:"contain"},t.toString()):"video"==e.type?Object(m.jsx)(A.a,{source:{uri:e.url},useNativeControls:!0,resizeMode:"contain",style:k.attachments},t.toString()):null}))})]}))},I=r(134),S=r(32),E=r.n(S),H=function(e){return e.isFavorite?Object(m.jsx)(E.a,{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)(S.Path,{d:"M10.367 3.203 7.828 8.398l-5.742.82c-1.016.157-1.406 1.407-.664 2.15l4.101 4.023-.976 5.664c-.156 1.015.937 1.797 1.836 1.328l5.117-2.695 5.078 2.695c.899.469 1.992-.313 1.836-1.328l-.977-5.664 4.102-4.024c.742-.742.352-1.992-.664-2.148l-5.703-.82-2.578-5.196c-.43-.898-1.758-.937-2.227 0Z",fill:"#08E"})}):Object(m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:[Object(m.jsx)("path",{fill:"url(#pattern0)",d:"M0 0H24V24H0z"}),Object(m.jsxs)("defs",{children:[Object(m.jsx)("pattern",{id:"pattern0",width:"1",height:"1",patternContentUnits:"objectBoundingBox",children:Object(m.jsx)("use",{transform:"scale(.02083)",xlinkHref:"#image0_0_61"})}),Object(m.jsx)("image",{id:"image0_0_61",width:"48",height:"48",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAwUExURUdwTACH7gCI7gCM8wCH7gCI7gCI7gCH7gCI7gCH7QCI7wCI7gCH7gCI7gCI7gCI7tNCCjEAAAAPdFJOUwBeoQWN73XLSw4oGLo32lyg1T8AAAFqSURBVDjLY2CgL+DYgEOCPQGHxPrPOCT0P2IX5/z/HbsE2/f/C7BKsP7wV8Aq0R+8/idWifMJPN+wiXP938DxFZsEyycG5vgGLBLz/zIw5B/AIiH/gIFh/y80wVk3xJziBRgYmP6pJPZuhokmnYv/DwTfDRgYuEGM/19rNMAS+4DMNyqJl0HsGWJOdUApZUgYnUcNPGb9L8wQltF/lIgw+i8AY+Z/MUCIc9f/gLMZ/59ESCz9ihTG9//Bo5v3/2vkcIqPgvvzzwRkC6f/vwAz1Rk1WvWhocSPHvL9MAn0uPJ3gKatH2gS9dCYYPmCKs78H+oWDrQkxPsPSExsBoWvAWqa+gJy6T+gm99fQJHg+cjAW/89/tMGBn3UlG3/m9P/q4DZ/28G8qjRvj5A/r8nA8Oa/2/Xf0CRyH/+vwpEt/7XR00P+v8hscjp/x81OuO/QP3BVf8JWZz7O9yRjKEo2VIAwZ6ygWHwAgC9cIKLiqH/1gAAAABJRU5ErkJggg=="})]})]})};function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var R=function(e){return Object(m.jsxs)(E.a,B(B({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[Object(m.jsx)(S.Path,{d:"m11.398 6.406-.312.274a.53.53 0 0 0 0 .664l4.531 4.492H3.47a.475.475 0 0 0-.469.469v.39c0 .274.195.47.469.47h12.148l-4.492 4.53a.45.45 0 0 0 0 .664l.273.274c.157.195.47.195.665 0l5.78-5.781a.45.45 0 0 0 0-.665l-5.78-5.78c-.196-.196-.508-.196-.665 0ZM20.5 5.47A.504.504 0 0 0 20.031 5h-.312a.475.475 0 0 0-.469.469V19.53c0 .274.195.469.469.469h.312a.475.475 0 0 0 .469-.469V5.47Z",fill:"#CDCDCD"}),Object(m.jsx)(S.Path,{d:"m11.398 6.406.083.094.008-.007.007-.009-.098-.078Zm-.312.274-.082-.094-.009.007-.007.009.098.078Zm0 .664-.098.078.005.005.005.006.088-.09Zm4.531 4.492v.125h.304l-.216-.214-.088.089Zm0 1.328.089.088.211-.213h-.3v.125Zm-4.492 4.531.088.089-.088-.089Zm.273.938.099-.079-.01-.01-.089.089Zm-.082-12.32-.312.273.164.188.313-.274-.165-.188Zm-.328.289a.654.654 0 0 0 0 .82l.196-.156a.404.404 0 0 1 0-.508l-.196-.156Zm.01.83 4.531 4.493.176-.178-4.531-4.492-.176.178Zm4.62 4.279H3.467v.25h12.15v-.25Zm-12.15 0a.6.6 0 0 0-.593.594h.25a.35.35 0 0 1 .344-.344v-.25Zm-.593.594v.39h.25v-.39h-.25Zm0 .39c0 .343.251.594.594.594v-.25a.327.327 0 0 1-.344-.344h-.25Zm.594.594h12.148v-.25H3.47v.25Zm12.06-.213-4.493 4.531.178.176 4.492-4.53-.178-.177Zm-4.492 4.53a.594.594 0 0 0-.184.421c0 .154.065.302.184.42l.176-.176a.344.344 0 0 1-.11-.244c0-.08.034-.167.11-.243l-.176-.177Zm0 .842.273.273.177-.177-.274-.273-.176.177Zm.264.263c.211.264.612.248.85.01l-.177-.177c-.152.153-.377.137-.478.01l-.195.157Zm.85.01 5.781-5.781-.177-.177-5.78 5.781.176.177Zm5.781-5.781a.594.594 0 0 0 .183-.42.593.593 0 0 0-.183-.42l-.177.176c.077.076.11.163.11.244a.345.345 0 0 1-.11.243l.177.177Zm0-.84-5.781-5.782-.177.177 5.781 5.78.177-.176Zm-5.781-5.782c-.238-.238-.639-.254-.85.01l.195.156c.101-.126.325-.142.478.01l.177-.176Zm8.474-.85a.595.595 0 0 0-.183-.41.595.595 0 0 0-.41-.183v.25c.076 0 .163.04.233.11s.11.157.11.234h.25Zm-.594-.593h-.312v.25h.312v-.25Zm-.312 0a.6.6 0 0 0-.594.594h.25a.35.35 0 0 1 .344-.344v-.25Zm-.594.594V19.53h.25V5.47h-.25Zm0 14.062c0 .343.251.594.594.594v-.25a.327.327 0 0 1-.344-.344h-.25Zm.594.594h.312v-.25h-.312v.25Zm.312 0a.6.6 0 0 0 .594-.594h-.25a.35.35 0 0 1-.344.344v.25Zm.594-.594V5.47h-.25V19.53h.25Z",fill:"#CDCDCD"})]}))},L=function(e){return Object(m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 18 18",children:[Object(m.jsx)("path",{stroke:"#A2A2A2",strokeWidth:"1.25",d:"M0.625 0.625H17.375V17.375H0.625z"}),Object(m.jsx)("path",{stroke:"#A2A2A2",strokeWidth:"1.25",d:"M0 5.375L18 5.375"})]})};function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var W,N=function(e){return Object(m.jsx)(E.a,z(z({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(m.jsx)(S.Path,{d:"m18.828 12.219-1.25-.742c.04-.313.04-.625.04-.977 0-.313 0-.625-.04-.938l1.25-.742c.39-.195.547-.664.43-1.054a9.723 9.723 0 0 0-2.227-3.907.947.947 0 0 0-1.172-.156l-1.25.742a7.882 7.882 0 0 0-1.68-.976V2.023c0-.468-.273-.82-.702-.937a9.699 9.699 0 0 0-4.493 0c-.43.117-.703.469-.703.937V3.47a7.883 7.883 0 0 0-1.68.976l-1.25-.742a.947.947 0 0 0-1.171.156A9.724 9.724 0 0 0 .703 7.766c-.117.39.04.859.43 1.054l1.25.742c-.04.313-.04.626-.04.977 0 .313 0 .625.04.938l-1.25.742c-.39.195-.547.664-.43 1.054A9.724 9.724 0 0 0 2.93 17.18a.947.947 0 0 0 1.172.156l1.25-.742c.507.39 1.054.703 1.68.976v1.446c0 .468.273.82.702.937a9.698 9.698 0 0 0 4.493 0c.43-.117.703-.469.703-.937V17.57a7.881 7.881 0 0 0 1.68-.976l1.25.742c.39.234.859.156 1.171-.156a9.724 9.724 0 0 0 2.227-3.907c.117-.39-.04-.859-.43-1.054Zm-2.539 3.906-1.836-1.055c-1.055.938-1.406 1.133-2.773 1.64v2.071a8.274 8.274 0 0 1-1.72.196 7.904 7.904 0 0 1-1.679-.196v-2.07c-1.328-.469-1.719-.703-2.773-1.64l-1.836 1.054a9.38 9.38 0 0 1-1.719-2.969l1.836-1.015c-.273-1.407-.273-1.836 0-3.243L1.953 7.883a9.381 9.381 0 0 1 1.719-2.969L5.508 5.97c1.054-.938 1.445-1.172 2.773-1.64V2.257A8.275 8.275 0 0 1 10 2.062c.586 0 1.133.079 1.68.196v2.07c1.328.469 1.718.703 2.773 1.64l1.836-1.054a9.382 9.382 0 0 1 1.719 2.969l-1.836 1.015c.273 1.407.273 1.836 0 3.243l1.836 1.015a9.382 9.382 0 0 1-1.719 2.969ZM10 6.75c-2.07 0-3.75 1.719-3.75 3.75 0 2.07 1.68 3.75 3.75 3.75 2.031 0 3.75-1.68 3.75-3.75 0-2.031-1.719-3.75-3.75-3.75ZM10 13a2.468 2.468 0 0 1-2.5-2.5C7.5 9.133 8.594 8 10 8c1.367 0 2.5 1.133 2.5 2.5 0 1.406-1.133 2.5-2.5 2.5Z",fill:"gray",fillOpacity:.4})}))},T=r(2),G=r.n(T),J=r(64);!function(e){e[e.LOADING=0]="LOADING",e[e.WAIT=1]="WAIT"}(W||(W={}));W.WAIT;function U(){var e,t,r,n,c,a=arguments;return G.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:0,t=a.length>1&&void 0!==a[1]&&a[1],(r=new FormData).append("actionName","MessagesLoad"),r.append("messageId",e.toString()),r.append("oldMessage",t.toString()),o.next=8,G.a.awrap(fetch("http://f0665380.xsph.ru/",{method:"POST",body:r}));case 8:if(!(n=o.sent).ok){o.next=17;break}return o.next=12,G.a.awrap(n.json());case 12:if("no message"!=(c=o.sent)){o.next=15;break}return o.abrupt("return",[]);case 15:return W.WAIT,o.abrupt("return",c.Messages.map((function(e){return{id:e.id,channel:e.channel,author:e.author,content:0!=e.content.length?e.content:void 0,attachments:e.attachments,dateTimeCreate:new Date(Date.parse(e.date.replace(" ","T")))}})));case 17:throw new Error("Server Error");case 18:case"end":return o.stop()}}),null,null,null,Promise)}function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q=a.a.create({background:{flexDirection:"row"}}),Q=function(e){var t=Object(c.useState)(),r=i()(t,2),n=r[0],a=r[1],s=Object(c.useState)(!1),l=i()(s,2),u=l[0],O=l[1],f=e.messageId,g=e.onPressHidden,j=e.sharingContent;Object(c.useEffect)((function(){return function(e){var t,r;return G.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=JSON,n.next=3,G.a.awrap(J.a.getItem("@MessagesIdFavorite"));case 3:if(n.t1=t=n.sent,null==n.t1){n.next=8;break}n.t2=t,n.next=9;break;case 8:n.t2="[]";case 9:return n.t3=n.t2,r=n.t0.parse.call(n.t0,n.t3),n.abrupt("return",r.includes(e));case 12:case"end":return n.stop()}}),null,null,null,Promise)}(f).then((function(e){return O(e)})),I.a().then((function(e){return a(e)})),function(){}}),[O]);var b=Object(c.useCallback)((function(){u?function(e){var t,r;return G.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=JSON,n.next=3,G.a.awrap(J.a.getItem("@MessagesIdFavorite"));case 3:if(n.t1=t=n.sent,null==n.t1){n.next=8;break}n.t2=t,n.next=9;break;case 8:n.t2="[]";case 9:return n.t3=n.t2,r=n.t0.parse.call(n.t0,n.t3),n.next=13,G.a.awrap(J.a.setItem("@MessagesIdFavorite",JSON.stringify(r.filter((function(t){return e!=t})))));case 13:case"end":return n.stop()}}),null,null,null,Promise)}(f).then((function(){return O(!1)})):function(e){var t,r;return G.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=JSON,n.next=3,G.a.awrap(J.a.getItem("@MessagesIdFavorite"));case 3:if(n.t1=t=n.sent,null==n.t1){n.next=8;break}n.t2=t,n.next=9;break;case 8:n.t2="[]";case 9:return n.t3=n.t2,(r=n.t0.parse.call(n.t0,n.t3)).push(e),n.next=14,G.a.awrap(J.a.setItem("@MessagesIdFavorite",JSON.stringify(r.sort())));case 14:case"end":return n.stop()}}),null,null,null,Promise)}(f).then((function(){return O(!0)}))}),[u]);return void 0==n?null:Object(m.jsxs)(o.a,Y(Y({style:q.background},e),{},{children:[j&&n?Object(m.jsx)(P.a,{children:Object(m.jsx)(R,{})}):null,Object(m.jsx)(P.a,{onPress:function(){return g()},children:Object(m.jsx)(L,{})}),Object(m.jsx)(P.a,{children:Object(m.jsx)(N,{})}),Object(m.jsx)(P.a,{onPress:b,children:Object(m.jsx)(H,{isFavorite:u})})]}))};function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _,$=a.a.create({background:{padding:5,width:"100%",borderBottomColor:"#4c4c4c",borderBottomWidth:2,marginBottom:5,paddingBottom:10},nextButton:{color:"#808080",fontWeight:"400",fontSize:12,marginVertical:8},teg:{fontSize:12,fontWeight:"400",marginHorizontal:4},messageBody:{flex:1,flexDirection:"row"},dateTimeCreate:{color:"#808080",fontWeight:"400",fontSize:14,marginHorizontal:5},textBody:{fontSize:16,fontWeight:"400",color:"#3333333"},header:{flexDirection:"row",justifyContent:"space-between"}}),ee=function(e){var t=Object(c.useState)(!1),r=i()(t,2),n=r[0],a=r[1],s=Object(c.useRef)(new p.a.Value(1e3)).current,l=e.message;return Object(m.jsxs)(o.a,X(X({},e),{},{style:[$.background,e.style],children:[Object(m.jsxs)(o.a,{style:$.header,children:[Object(m.jsx)(x,{user:{imageURL:void 0,name:l.author}}),Object(m.jsx)(Q,{messageId:l.channel+"_"+l.id,onPressHidden:Object(c.useCallback)((function(){n?(a(!1),p.a.timing(s,{toValue:1,useNativeDriver:!1,duration:500}).start()):p.a.timing(s,{toValue:0,useNativeDriver:!1,duration:500}).start((function(){a(!0)}))}),[n]),sharingContent:function(){if(l.attachments.length>0)return l.attachments[0].url}()})]}),n?null:Object(m.jsxs)(p.a.View,{style:[$.messageBody,{opacity:s}],children:[Object(m.jsxs)(h.a,{style:$.dateTimeCreate,children:[l.dateTimeCreate.getHours(),":",l.dateTimeCreate.getMinutes()<10?0:null,l.dateTimeCreate.getMinutes()]}),Object(m.jsx)(Z,{attachments:l.attachments,text:l.content,style:{flex:1}})]})]}))};function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ne(e,t){var r=t.type,n=t.payload;switch(r){case"addMessage":0!=n.length&&(0==e.messages.length&&(e.status=_.READY),e.messages=[].concat(f()(e.messages),f()(n)));break;case"editDirection":e.direction=n}return re({},e)}!function(e){e[e.LOADING=0]="LOADING",e[e.READY=1]="READY",e[e.ERROR=2]="ERROR"}(_||(_={}));var ce={messages:[],status:_.LOADING,direction:"oldNew"},ae=function(e){var t=Object(c.useReducer)(ne,ce),r=i()(t,2),n=r[0],a=r[1];switch(Object(c.useEffect)((function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.error,r=!0;return new Promise((function(){var n,c;return G.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,G.a.awrap(U());case 2:c=a.sent,e(c),n=c[c.length-1].id;case 5:if(!r){a.next=21;break}return a.prev=6,console.log("\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u044e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f. \u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 id",n),a.next=10,G.a.awrap(U(n));case 10:(c=a.sent).length>0&&(n=c[0].id,e(c)),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(6),t(a.t0);case 17:return a.next=19,G.a.awrap(new Promise((function(e){return setTimeout(e,5e3)})));case 19:a.next=5;break;case 21:case"end":return a.stop()}}),null,null,[[6,14]],Promise)})),function(){r=!1}}((function(e){a({type:"addMessage",payload:e})}),(function(e){alert(e)}));return function(){e()}}),[a]),n.status){case _.LOADING:return Object(m.jsx)(j.a,{color:"#000000"});case _.READY:return Object(m.jsxs)(o.a,re(re({},e),{},{children:[Object(m.jsx)(b.a,{title:"newOld"==n.direction?"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u043e\u0432\u044b\u0435":"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0442\u0430\u0440\u044b\u0435",onPress:function(){return a({type:"editDirection",payload:"newOld"==n.direction?"oldNew":"newOld"})}}),Object(m.jsx)(g.a,{data:n.messages,renderItem:function(e){var t=e.item;return Object(m.jsx)(ee,{message:t})},keyExtractor:function(e){return e.channel+"_"+e.id},inverted:"newOld"==n.direction})]}))}},oe=a.a.create({background:{flex:1,alignItems:"center",justifyContent:"flex-start",paddingHorizontal:50,paddingTop:30},messagesView:{width:900}});Object(n.a)((function(){return Object(m.jsx)(o.a,{style:oe.background,children:Object(m.jsx)(ae,{style:oe.messagesView})})}))}},[[136,1,2]]]);
//# sourceMappingURL=app.588a707f.chunk.js.map